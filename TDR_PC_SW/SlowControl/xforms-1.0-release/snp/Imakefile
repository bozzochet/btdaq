#define DoNormalLib YES
#define DoSharedLib BuildShared

#define LibName formssnp

SRCS		= \
		  strtod.c \
		  snprintf.c

HEADERS		= formssnp.h
LIBNAME		= LibName
XFORMSLIBREV	= XFormsLibRev
#if InstallNonstandard
XFORMSLIBDIR	= XFormsNonstandardInstallDir
#else
XFORMSLIBDIR	= $(DESTDIR)$(INCDIR)/X11
#endif

#		Wrong Way!  Go Back!

#if Debug
OPTFLAG	=
#else
OPTFLAG	= -O3 
#endif

OBJS	= $(SRCS:.c=.o)

EXTRA_INCLUDES	= 

#if !HaveFloatH
BADFLOAT	= -DBad_float_h
#endif

EXTRA_DEFINES	= \
		  $(BADFLOAT)

PICFLAGS	= -fPIC

CDEBUGFLAGS     = -g
CCOPTIONS	=

#if (ProjectX < 5)
    STD_DEFINES = LibraryDefines
    CDEBUGFLAGS = LibraryCDebugFlags
#else
#define SoRev XFORMSLIBREV
#define IncSubdir X11
#include <Library.tmpl>
#endif

#if Solaris64Bit
LDPRELIB	= -L/usr/openwin/lib/sparcv9
CCENVSETUP	= LD_RUN_PATH=/usr/openwin/lib/sparcv9
#endif

#if InstallNonstandard
SHLIBDIR	= XFormsNonstandardInstallDir/lib
USRLIBDIR	= XFormsNonstandardInstallDir/lib
INCDIR		= XFormsNonstandardInstallDir/include
#endif

#if (ProjectX < 6)
   INSTALLFLAGS = $(INSTINCFLAGS)

#if (ProjectX < 5)

#if DoSharedLib
SharedLibraryObjectRule()
NormalSharedLibraryTarget($(LIBNAME),$(XFORMSLIBREV),$(OBJS))
InstallSharedLibrary($(LIBNAME),$(XFORMSLIBREV),$(XFORMSLIBDIR))
#else
NormalLibraryObjectRule()
#endif
NormalLibraryTarget($(LIBNAME),$(OBJS))
InstallLibrary($(LIBNAME),$(XFORMSLIBDIR))

#else /* (ProjectX < 5) */
LibraryObjectRule()

#if DoSharedLib
# if DoNormalLib
SharedLibraryTarget($(LIBNAME),$(XFORMSLIBREV),$(OBJS),shared,..)
# else
SharedLibraryTarget($(LIBNAME),$(XFORMSLIBREV),$(OBJS),.,.)
#endif
InstallSharedLibrary($(LIBNAME),$(XFORMSLIBREV),$(XFORMSLIBDIR))
#endif
#if DoNormalLib
NormalLibraryTarget($(LIBNAME),$(OBJS))
InstallLibrary($(LIBNAME),$(XFORMSLIBDIR))
#endif

#endif /* (ProjectX < 5) */

InstallMultiple(snp.h,$(XFORMSINCDIR))

LintLibraryTarget($(LIBNAME),$(SRCS))
InstallLintLibrary($(LIBNAME),$(LINTLIBDIR))
NormalLintTarget($(SRCS))

#endif /* (ProjectX < 6) */

DependTarget()
