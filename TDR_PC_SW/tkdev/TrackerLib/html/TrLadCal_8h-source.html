<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title> AMS Software: Geometry Classes: include/TrLadCal.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<div class="nav">
<a class="el" href="dir_000002.html">include</a></div>
<h1>TrLadCal.h</h1><a href="TrLadCal_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 <span class="preprocessor">#ifndef __TrLadCal__</span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define __TrLadCal__</span>
00003 <span class="preprocessor"></span>
00018 
00019 <span class="preprocessor">#include "typedefs.h"</span>
00020 <span class="preprocessor">#include "TObject.h"</span>
00021 
<a name="l00023"></a><a class="code" href="structCaloutDSP.html">00023</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structCaloutDSP.html">CaloutDSP</a>{
<a name="l00024"></a><a class="code" href="structCaloutDSP.html#o0">00024</a>   <span class="keywordtype">short</span> <span class="keywordtype">int</span> ped[1024];
<a name="l00025"></a><a class="code" href="structCaloutDSP.html#o1">00025</a>   <span class="keywordtype">short</span> <span class="keywordtype">int</span> rsig[1024];
<a name="l00026"></a><a class="code" href="structCaloutDSP.html#o2">00026</a>   <span class="keywordtype">short</span> <span class="keywordtype">int</span> sig[1024];
<a name="l00027"></a><a class="code" href="structCaloutDSP.html#o3">00027</a>   <span class="keywordtype">short</span> <span class="keywordtype">int</span> status[1024];
<a name="l00028"></a><a class="code" href="structCaloutDSP.html#o4">00028</a>   <span class="keywordtype">short</span> <span class="keywordtype">int</span> dspver;
<a name="l00029"></a><a class="code" href="structCaloutDSP.html#o5">00029</a>   <span class="keywordtype">float</span> lowthres;
<a name="l00030"></a><a class="code" href="structCaloutDSP.html#o6">00030</a>   <span class="keywordtype">float</span> highthres;
<a name="l00031"></a><a class="code" href="structCaloutDSP.html#o7">00031</a>   <span class="keywordtype">float</span> sigrawthres;
<a name="l00032"></a><a class="code" href="structCaloutDSP.html#o8">00032</a>   <span class="keywordtype">short</span> <span class="keywordtype">int</span> calnum;
<a name="l00033"></a><a class="code" href="structCaloutDSP.html#o9">00033</a>   <span class="keywordtype">short</span> <span class="keywordtype">int</span> calstatus;
00034 } <a class="code" href="structCaloutDSP.html">CaloutDSP</a>;
00035 
00036 
<a name="l00037"></a><a class="code" href="classTrLadCal.html">00037</a> <span class="keyword">class </span><a class="code" href="classTrLadCal.html">TrLadCal</a> :<span class="keyword">public</span> TObject {
00038   
00039 <span class="keyword">public</span>:  
00040   <span class="keyword">static</span> <span class="keywordtype">int</span> dead;  <span class="comment">//=0x2;</span>
00041 
00042 
<a name="l00044"></a><a class="code" href="classTrLadCal.html#o0">00044</a>   <span class="keywordtype">short</span> <span class="keywordtype">int</span> HwId;
<a name="l00046"></a><a class="code" href="classTrLadCal.html#o1">00046</a>   <span class="keywordtype">int</span> dspver;
<a name="l00048"></a><a class="code" href="classTrLadCal.html#o2">00048</a>   <span class="keywordtype">float</span> lowthres;
<a name="l00050"></a><a class="code" href="classTrLadCal.html#o3">00050</a>   <span class="keywordtype">float</span> highthres;
<a name="l00052"></a><a class="code" href="classTrLadCal.html#o4">00052</a>   <span class="keywordtype">float</span> sigrawthres;
<a name="l00062"></a><a class="code" href="classTrLadCal.html#o5">00062</a>   <span class="keywordtype">int</span> calstatus;
00063 
00064 
00065 <span class="keyword">private</span>:
00066 
<a name="l00068"></a><a class="code" href="classTrLadCal.html#r0">00068</a>   geant     <a class="code" href="classTrLadCal.html#r0">_Pedestal</a>[1024];
<a name="l00070"></a><a class="code" href="classTrLadCal.html#r1">00070</a>   geant     <a class="code" href="classTrLadCal.html#r1">_SigmaRaw</a>[1024];
<a name="l00072"></a><a class="code" href="classTrLadCal.html#r2">00072</a>   geant     <a class="code" href="classTrLadCal.html#r2">_Sigma</a>[1024];
00074   <span class="comment">/* </span>
00075 <span class="comment">     Bit 0 to 1  (0x1): dead  channel (sigma raw &lt; mediane sigma raw on VA/2)</span>
00076 <span class="comment">     Bit 1 to 1  (0x2): noisy channel (sigma raw &gt; mediane sigma raw on VA*3)</span>
00077 <span class="comment">     Bit 2 to 1  (0x4): dead  channel (sigma &lt; mediane sigma on ADC/2)</span>
00078 <span class="comment">     Bit 3 to 1  (0x8): noisy channel (sigma &gt; mediane sigma on ADC*1.5)</span>
00079 <span class="comment">     Bit 4 to 1 (0x16): non gaussian channel</span>
00080 <span class="comment">  */</span>
<a name="l00081"></a><a class="code" href="classTrLadCal.html#r3">00081</a>   <span class="keywordtype">short</span> <span class="keywordtype">int</span> <a class="code" href="classTrLadCal.html#r3">_Status</a>[1024];
<a name="l00083"></a><a class="code" href="classTrLadCal.html#r4">00083</a>   <span class="keywordtype">short</span> <span class="keywordtype">int</span> _filled;
00084 
00086   geant <a class="code" href="classTrLadCal.html#d0">_getnum</a>( geant *,<span class="keywordtype">int</span> ii);
00087   <span class="keywordtype">short</span> <span class="keywordtype">int</span> <a class="code" href="classTrLadCal.html#d0">_getnum</a>( <span class="keywordtype">short</span> <span class="keywordtype">int</span> *,<span class="keywordtype">int</span> ii);
00088 
00090   <span class="keywordtype">void</span> <a class="code" href="classTrLadCal.html#d2">_setnum</a>( geant *,<span class="keywordtype">int</span> ii, geant val);
00091   <span class="keywordtype">void</span> <a class="code" href="classTrLadCal.html#d2">_setnum</a>( <span class="keywordtype">short</span> <span class="keywordtype">int</span> *,<span class="keywordtype">int</span> ii, <span class="keywordtype">short</span> <span class="keywordtype">int</span> val);
00092   
00093 <span class="keyword">public</span>:
00094 
00096   <a class="code" href="classTrLadCal.html#a0">TrLadCal</a>(<span class="keywordtype">short</span> <span class="keywordtype">int</span> hwid=0);
00098   <a class="code" href="classTrLadCal.html#a0">TrLadCal</a>(<span class="keyword">const</span> <a class="code" href="classTrLadCal.html">TrLadCal</a>&amp; orig);
<a name="l00100"></a><a class="code" href="classTrLadCal.html#a2">00100</a>   <a class="code" href="classTrLadCal.html#a2">~TrLadCal</a>(){}
00102   <span class="keywordtype">void</span> <a class="code" href="classTrLadCal.html#a3">Clear</a>();
00104   <span class="keywordtype">void</span> <a class="code" href="classTrLadCal.html#a4">Fill</a>(<a class="code" href="structCaloutDSP.html">CaloutDSP</a>* cc);
00105 
<a name="l00107"></a><a class="code" href="classTrLadCal.html#a5">00107</a>   geant <a class="code" href="classTrLadCal.html#a5">Pedestal</a>(<span class="keywordtype">int</span> ii)   { <span class="keywordflow">return</span> <a class="code" href="classTrLadCal.html#d0">_getnum</a>(<a class="code" href="classTrLadCal.html#r0">_Pedestal</a>,ii);}
<a name="l00109"></a><a class="code" href="classTrLadCal.html#a6">00109</a>   geant <a class="code" href="classTrLadCal.html#a6">Sigma</a>(<span class="keywordtype">int</span> ii)      { <span class="keywordflow">return</span> <a class="code" href="classTrLadCal.html#d0">_getnum</a>(<a class="code" href="classTrLadCal.html#r2">_Sigma</a>,ii);}
<a name="l00111"></a><a class="code" href="classTrLadCal.html#a7">00111</a>   geant <a class="code" href="classTrLadCal.html#a7">SigmaRaw</a>(<span class="keywordtype">int</span> ii)   { <span class="keywordflow">return</span> <a class="code" href="classTrLadCal.html#d0">_getnum</a>(<a class="code" href="classTrLadCal.html#r1">_SigmaRaw</a>,ii);}
<a name="l00113"></a><a class="code" href="classTrLadCal.html#a8">00113</a>   <span class="keywordtype">short</span> <span class="keywordtype">int</span> <a class="code" href="classTrLadCal.html#a8">Status</a>(<span class="keywordtype">int</span> ii) { <span class="keywordflow">return</span> <a class="code" href="classTrLadCal.html#d0">_getnum</a>(<a class="code" href="classTrLadCal.html#r3">_Status</a>,ii);}
00114 
<a name="l00116"></a><a class="code" href="classTrLadCal.html#a9">00116</a>   <span class="keywordtype">short</span> <span class="keywordtype">int</span> <a class="code" href="classTrLadCal.html#a9">GetHwId</a>()<span class="keyword"> const   </span>{ <span class="keywordflow">return</span> HwId; }
<a name="l00118"></a><a class="code" href="classTrLadCal.html#a10">00118</a>   geant <a class="code" href="classTrLadCal.html#a10">GetPedestal</a>(<span class="keywordtype">int</span> ii)   { <span class="keywordflow">return</span> <a class="code" href="classTrLadCal.html#d0">_getnum</a>(<a class="code" href="classTrLadCal.html#r0">_Pedestal</a>,ii); }
<a name="l00120"></a><a class="code" href="classTrLadCal.html#a11">00120</a>   geant <a class="code" href="classTrLadCal.html#a11">GetSigma</a>(<span class="keywordtype">int</span> ii)      { <span class="keywordflow">return</span> <a class="code" href="classTrLadCal.html#d0">_getnum</a>(<a class="code" href="classTrLadCal.html#r2">_Sigma</a>,ii); }
<a name="l00122"></a><a class="code" href="classTrLadCal.html#a12">00122</a>   geant <a class="code" href="classTrLadCal.html#a12">GetSigmaRaw</a>(<span class="keywordtype">int</span> ii)   { <span class="keywordflow">return</span> <a class="code" href="classTrLadCal.html#d0">_getnum</a>(<a class="code" href="classTrLadCal.html#r1">_SigmaRaw</a>,ii); }
<a name="l00124"></a><a class="code" href="classTrLadCal.html#a13">00124</a>   <span class="keywordtype">short</span> <span class="keywordtype">int</span> <a class="code" href="classTrLadCal.html#a13">GetStatus</a>(<span class="keywordtype">int</span> ii) { <span class="keywordflow">return</span> <a class="code" href="classTrLadCal.html#d0">_getnum</a>(<a class="code" href="classTrLadCal.html#r3">_Status</a>,ii); }
00125 
<a name="l00127"></a><a class="code" href="classTrLadCal.html#a14">00127</a>   <span class="keywordtype">void</span> <a class="code" href="classTrLadCal.html#a14">SetPedestal</a>(<span class="keywordtype">int</span> ii,geant val)   { <a class="code" href="classTrLadCal.html#d2">_setnum</a>(<a class="code" href="classTrLadCal.html#r0">_Pedestal</a>,ii,val);}
<a name="l00129"></a><a class="code" href="classTrLadCal.html#a15">00129</a>   <span class="keywordtype">void</span> <a class="code" href="classTrLadCal.html#a15">SetSigma</a>(<span class="keywordtype">int</span> ii,geant val)      { <a class="code" href="classTrLadCal.html#d2">_setnum</a>(<a class="code" href="classTrLadCal.html#r2">_Sigma</a>,ii,val);}
<a name="l00131"></a><a class="code" href="classTrLadCal.html#a16">00131</a>   <span class="keywordtype">void</span> <a class="code" href="classTrLadCal.html#a16">SetSigmaRaw</a>(<span class="keywordtype">int</span> ii,geant val)   { <a class="code" href="classTrLadCal.html#d2">_setnum</a>(<a class="code" href="classTrLadCal.html#r1">_SigmaRaw</a>,ii,val);}
<a name="l00133"></a><a class="code" href="classTrLadCal.html#a17">00133</a>   <span class="keywordtype">void</span> <a class="code" href="classTrLadCal.html#a17">SetStatus</a>(<span class="keywordtype">int</span> ii,<span class="keywordtype">short</span> <span class="keywordtype">int</span> val) { <a class="code" href="classTrLadCal.html#d2">_setnum</a>(<a class="code" href="classTrLadCal.html#r3">_Status</a>,ii,val);}
00134 
<a name="l00136"></a><a class="code" href="classTrLadCal.html#a18">00136</a>   <span class="keywordtype">bool</span> <a class="code" href="classTrLadCal.html#a18">IsFilled</a>()  { <span class="keywordflow">return</span> <a class="code" href="classTrLadCal.html#r4">_filled</a>==1; }
<a name="l00138"></a><a class="code" href="classTrLadCal.html#a19">00138</a>   <span class="keywordtype">void</span> <a class="code" href="classTrLadCal.html#a19">SetFilled</a>() { <a class="code" href="classTrLadCal.html#r4">_filled</a> = 1; } 
00139 
00141   <span class="keywordtype">short</span> <span class="keywordtype">int</span> <a class="code" href="classTrLadCal.html#a20">DSPSmallest</a>(<span class="keywordtype">short</span> <span class="keywordtype">int</span> a[], <span class="keywordtype">int</span> n, <span class="keywordtype">int</span> k);
00143   geant <a class="code" href="classTrLadCal.html#a21">GetDSPSigmaRawOnMediane</a>(<span class="keywordtype">int</span> ii); 
00145   geant <a class="code" href="classTrLadCal.html#a22">GetDSPSigmaOnMediane</a>(<span class="keywordtype">int</span> ii); 
00146 
00148   geant <a class="code" href="classTrLadCal.html#a23">GetSigmaMean</a>(<span class="keywordtype">int</span> side);
00150   geant <a class="code" href="classTrLadCal.html#a24">GetSigmaRMS</a>(<span class="keywordtype">int</span> side);
00152   <span class="keywordtype">int</span>   <a class="code" href="classTrLadCal.html#a25">GetnChannelsByStatus</a>(<span class="keywordtype">int</span> statusbit); 
00153 
00154 
00156   <span class="keywordtype">void</span> <a class="code" href="classTrLadCal.html#a26">PrintInfo</a>(<span class="keywordtype">int</span> long_format = 0);
00158   <span class="keywordtype">void</span> <a class="code" href="classTrLadCal.html#a27">CopyCont</a>(<a class="code" href="classTrLadCal.html">TrLadCal</a>&amp; orig);
00160   <a class="code" href="classTrLadCal.html">TrLadCal</a>&amp; <a class="code" href="classTrLadCal.html#a28">operator-</a>(<a class="code" href="classTrLadCal.html">TrLadCal</a> &amp;);
00162   <a class="code" href="classTrLadCal.html">TrLadCal</a>&amp; <a class="code" href="classTrLadCal.html#a29">operator=</a>(<a class="code" href="classTrLadCal.html">TrLadCal</a>&amp; orig);
00163 
00166   <span class="keywordtype">int</span> <a class="code" href="classTrLadCal.html#a30">Cal2Lin</a>(<span class="keywordtype">float</span>* offset);
00167 
00168 
00171   <span class="keywordtype">int</span> <a class="code" href="classTrLadCal.html#a31">Lin2Cal</a>(<span class="keywordtype">float</span>* offset);
00172 
00173 
<a name="l00174"></a><a class="code" href="classTrLadCal.html#e0">00174</a>   <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classTrLadCal.html#e0">GetSize</a>() {<span class="keywordflow">return</span> (1024*4+6);}
00175 
00176   <a class="code" href="classTrLadCal.html#a32">ClassDef</a>(<a class="code" href="classTrLadCal.html">TrLadCal</a>,2);
00177 
00178 };
00179 
00180 
00181 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Tue Nov 18 18:21:04 2008 for  AMS Software: Geometry Classes by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
